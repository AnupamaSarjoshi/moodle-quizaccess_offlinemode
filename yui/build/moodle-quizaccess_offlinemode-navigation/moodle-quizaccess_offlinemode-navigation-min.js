YUI.add("moodle-quizaccess_offlinemode-navigation",function(e,t){M.quizaccess_offlinemode=M.quizaccess_offlinemode||{},M.quizaccess_offlinemode.navigation={SELECTORS:{QUIZ_FORM:"#responseform",NAV_BLOCK:"#mod_quiz_navblock",NAV_BUTTON:".qnbutton",PAGE_DIV_ROOT:"#quizaccess_offlinemode-attempt_page_"},form:null,currentpage:null,init:function(t){this.navigate_to_page(+t),this.form=e.one(this.SELECTORS.QUIZ_FORM);if(!this.form)return;e.delegate("click",this.nav_button_click,this.SELECTORS.NAV_BLOCK,this.SELECTORS.NAV_BUTTON,this)},nav_button_click:function(e){e.halt(),this.navigate_to_page(this.page_number_from_link(e.currentTarget))},page_number_from_link:function(e){var t=e.get("href").match(/page=(\d+)/);return t?+t[1]:0},navigate_to_page:function(t){if(t===this.currentpage)return;this.currentpage!==null&&e.one(this.SELECTORS.PAGE_DIV_ROOT+this.currentpage).addClass("hidden"),e.one(this.SELECTORS.PAGE_DIV_ROOT+t).removeClass("hidden"),e.one(this.SELECTORS.NAV_BLOCK).all(this.SELECTORS.NAV_BUTTON).each(function(e){this.page_number_from_link(e)===t?e.addClass("thispage"):e.removeClass("thispage")},this),this.currentpage=t}}},"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate","io-form"]});
